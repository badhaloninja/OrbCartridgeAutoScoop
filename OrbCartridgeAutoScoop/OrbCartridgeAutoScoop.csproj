<Project Sdk="Microsoft.NET.Sdk">
	<PropertyGroup>
		<AppName>Resonite</AppName>
		<ModLoaderShort>rml</ModLoaderShort>

		<Product>OrbCartridgeAutoScoop</Product>
		<Version>2.1.0</Version>

		<Company>badhaloninja</Company>
		<Copyright>Copyright © $(Company) 2025</Copyright>

		<Authors>$(Company)</Authors>
		<AssemblyTitle>$(Product)</AssemblyTitle>
		<AssemblyName>$(Product)</AssemblyName>

		<RootNamespace>OrbCartridgeAutoScoop</RootNamespace>
		<ProjectGuid>{A6FE9081-9575-450C-8EF6-B2CEB8915CF8}</ProjectGuid>
	</PropertyGroup>

	<PropertyGroup>
		<OutputType>Library</OutputType>
		<AppDesignerFolder>Properties</AppDesignerFolder>
		<TargetFramework>net9.0</TargetFramework>
		<LangVersion>preview</LangVersion>
		<FileAlignment>512</FileAlignment>
		<Deterministic>true</Deterministic>
	</PropertyGroup>

	<PropertyGroup>
		<CopyLocal>false</CopyLocal>
		<CopyToMods Condition="'$(CopyToMods)'==''">true</CopyToMods>
		<DebugSymbols Condition="'$(Configuration)'=='Release'">false</DebugSymbols>
		<DebugType Condition="'$(Configuration)'=='Release'">None</DebugType>
	</PropertyGroup>

	<ItemGroup>
		<None Include="Properties\launchSettings.json" />
		<None Include="..\README.md" />
	</ItemGroup>

	<PropertyGroup>
		<AppPath>$(MSBuildThisFileDirectory)$(AppName)</AppPath>
		<AppPath Condition="Exists('E:\Programs\Steam\steamapps\common\$(AppName)')">E:\Programs\Steam\steamapps\common\$(AppName)\</AppPath>
		<AppPath Condition="Exists('E:\SteamLibrary\steamapps\common\$(AppName)')">E:\SteamLibrary\steamapps\common\$(AppName)\</AppPath>
		<AppPath Condition="Exists('$(HOME)/.steam/steam/steamapps/common/$(AppName)/')">$(HOME)/.steam/steam/steamapps/common/$(AppName)/</AppPath>
		<AppPath Condition="Exists('C:\Program Files (x86)\Steam\steamapps\common\$(AppName)\')">C:\Program Files (x86)\Steam\steamapps\common\$(AppName)\</AppPath>

		<AppData>$(AppPath)</AppData>

		<AlternateDataPath>$(AppPath)\Alt\</AlternateDataPath>
		<AlternateDataPath Condition="Exists('$(AppPath)')">$(AppPath)_altData</AlternateDataPath>
	</PropertyGroup>
	
	<ItemGroup>
		<Reference Include="$(AppName)ModLoader">
			<HintPath>$(AppPath)$(AppName)ModLoader.dll</HintPath>
			<HintPath>$(AppPath)Libraries\$(AppName)ModLoader.dll</HintPath>
		</Reference>
		<Reference Include="HarmonyLib">
			<HintPath>$(AppPath)$(ModLoaderShort)_libs\0Harmony.dll</HintPath>
			<HintPath Condition="Exists('$(AppPath)0Harmony.dll')">$(AppPath)0Harmony.dll</HintPath>
		</Reference>
		<Reference Include="FrooxEngine">
			<HintPath>$(AppData)FrooxEngine.dll</HintPath>
		</Reference>
		<Reference Include="SkyFrost.Base">
			<HintPath>$(AppData)SkyFrost.Base.dll</HintPath>
		</Reference>
		<Reference Include="Elements.Core">
			<HintPath>$(AppData)Elements.Core.dll</HintPath>
		</Reference>
		<Reference Include="Renderite.Shared">
			<HintPath>$(AppData)Renderite.Shared.dll</HintPath>
		</Reference>
	</ItemGroup>
	
	<Target Name="PostBuild" AfterTargets="PostBuildEvent" Condition="'$(CopyToMods)'=='true'">
		<Copy SourceFiles="$(TargetPath)" DestinationFolder="$(AppPath)$(ModLoaderShort)_mods" />
		<Message Text="Copied $(TargetFileName) to $(AppPath)$(ModLoaderShort)_mods" Importance="high" />
	</Target>
</Project>